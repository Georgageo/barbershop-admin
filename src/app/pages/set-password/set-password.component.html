<div class="min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-950 px-4">
  <div class="w-full max-w-md">
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-slate-800 dark:text-white tracking-tight">Barbershop</h1>
      <p class="text-slate-500 dark:text-slate-400 mt-1">Ορίστε τον κωδικό σας</p>
    </div>

    <div class="bg-white dark:bg-slate-900/80 border border-slate-200 dark:border-slate-700/60 rounded-2xl shadow-xl shadow-black/10 dark:shadow-black/20 p-8 backdrop-blur-sm">
      @if (!token) {
        <p class="text-red-500 dark:text-red-400">Λάθος ή ληγμένος σύνδεσμος πρόσκλησης. Ζητήστε νέα πρόσκληση.</p>
        <a
          routerLink="/login"
          class="mt-4 inline-block text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 text-sm font-medium"
        >
          Μετάβαση στη σύνδεση
        </a>
      } @else {
        <h2 class="text-xl font-semibold text-slate-800 dark:text-white mb-2">Νέος κωδικός</h2>
        <p class="text-slate-600 dark:text-slate-400 text-sm mb-6">Εισάγετε τον κωδικό που θέλετε να χρησιμοποιήσετε για σύνδεση.</p>

        <form (ngSubmit)="onSubmit()" class="space-y-5">
          <div>
            <label for="password" class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2">Κωδικός</label>
            <input
              id="password"
              type="password"
              [(ngModel)]="password"
              name="password"
              autocomplete="new-password"
              minlength="6"
              class="w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition"
              placeholder="Τουλάχιστον 6 χαρακτήρες"
            />
          </div>
          <div>
            <label for="confirmPassword" class="block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2">Επιβεβαίωση κωδικού</label>
            <input
              id="confirmPassword"
              type="password"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              autocomplete="new-password"
              class="w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition"
              placeholder="Επαναλάβετε τον κωδικό"
            />
          </div>
          @if (error()) {
            <p class="text-sm text-red-500 dark:text-red-400">{{ error() }}</p>
          }
          <button
            type="submit"
            [disabled]="loading()"
            class="w-full py-3 px-4 rounded-xl bg-cyan-500 hover:bg-cyan-400 disabled:opacity-60 disabled:cursor-not-allowed text-slate-950 font-semibold transition focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2 focus:ring-offset-slate-900"
          >
            {{ loading() ? 'Αποθήκευση...' : 'Ορισμός κωδικού' }}
          </button>
        </form>
      }
    </div>
  </div>
</div>
